Use curl to connect to an IMAP server ('-k' is only needed with 'imaps', it's for SSL):

get all folders: curl -n imap(s)://<url> -X 'LIST "" "*"' (-k) --user "<username>:<password>"
check folder   : curl -n imap(s)://myMail -X 'EXAMINE <folder>' (-k) --user "<username>:<password>"
get message    : curl -n "imap(s)://<url>/<folder>;UID=<i>" (-k) --user "<username>:<password>"
